<div class="card" [ngClass]="getState()" *ngIf="fiend.unit()">
  <span class="exit" *ngIf="!menu" (click)="menu = true" [ngClass]="getRarity()"><i class="fas fa-window-maximize"></i></span>
  <div class="unit" *ngFor="let unit of fiend.squad" (click)="setAttackMode()">
    <div class="inner-unit" [ngClass]="getSize(unit)" [ngStyle]="{'transform':turn?'scale(1.1, 1.1)':'scale(1,1)'}"></div>
    <div class="rarity" [ngClass]="getRarity(unit)"></div>
    <div class="health-bar"><div class="health" [ngStyle]="getHealth(unit, fiend)"></div></div>
  </div>
  <div class="menu" *ngIf="menu">
    <div class="rarity-label" [ngClass]="getRarity(fiend.unit())">
      <h1>{{fiend.unit().name}}</h1>
      <span class="exit" (click)="menu = false"><i class="fas fa-window-close"></i></span>
      <span class="level">{{fiend.unit().level}}</span>
    </div>
    <div class="unit-select">
      <div
        *ngFor="let unit of fiend.squad; let i = index"
        [ngClass]="{'team-one': unit.team, 'team-two': !unit.team, 'selected': this.selectedUnit === i}"
        (click)="selectedUnit = i"
      ></div>
    </div>
    <div>Health: {{getFiend().health}}</div>
    <div>Damage: {{getFiend().damage}}</div>
    <div>Accuracy: {{getFiend().accuracy}}</div>
    <div>Ability: {{getFiend().ability ? getFiend().ability.name : 'None'}}</div>
  </div>
  <div class="loading" *ngIf="loading" [ngClass]="{'team-one': fiend.unit().team, 'team-two': !fiend.unit().team}">
    <div><i class="fas fa-spinner fa-pulse"></i></div>
    <div class="load-container"><div class="load-bar" [ngStyle]="getLoad()"></div></div>
  </div>
</div>
<div class="name" *ngIf="fiend.unit()">{{fiend.unit().name}}</div>
